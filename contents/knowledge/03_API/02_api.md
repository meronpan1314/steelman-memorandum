---
title: 02_APIの決め事
date: "2026-01-26"
---

## 結論
APIは単なる「窓口」ではなく、**プログラム同士が安全かつ正確にやり取りするための決め事（契約）** を定めたもの。</p>
この決め事を明確にすることで、実装が分かれていても連携できる。

## APIで必ず決めている5つのこと

APIは最低限、次の5つを決めている。
これらは CORBA / REST / gRPC すべてに共通する。

### 1. 何ができるか（操作・機能）

そのAPIを使って「何ができるのか」を定める。

例：

* 挨拶を返す
* ユーザー情報を取得する
* 注文を登録する

→ **APIの目的そのもの**。

---

### 2. どう呼ぶか（呼び方）

その操作を「どのような形で呼び出すか」を定める。

例：

* メソッド名で呼ぶ（CORBA / gRPC）
* URL + HTTPメソッドで呼ぶ（REST）

→ 呼び方は方式によって異なるが、**「呼び方を決める必要がある」こと自体は共通**。

---

### 3. 何を渡すか（入力）

呼び出すときに、相手に渡す情報を定める。

例：

* ユーザーID
* 検索条件
* 登録したいデータ

→ 型・項目・必須かどうかを決める必要がある。

---

### 4. 何が返るか（出力）

処理が成功したときに、何が返ってくるかを定める。

例：

* 文字列（"Hello"）
* ユーザー情報の一覧
* 登録結果（成功・失敗）

→ 入力と同様に、構造や型が重要。

---

### 5. 失敗したらどうなるか（エラー）

通信や処理が失敗した場合の振る舞いを定める。

例：

* 入力が不正
* データが存在しない
* サーバーエラー

→ **失敗は必ず起こる前提で設計する**。

---

## APIは「契約」である

APIは、

* 作る側（サーバー）
* 使う側（クライアント）

の間で交わす **契約書** に近い。

* 実装の中身は知らなくていい
* 契約通りに呼べば動く

→ だからAPIが変わると、使う側も影響を受ける。

---

## なぜこの理解が重要か

この5つの決め事を理解していると：

* RESTがなぜURLとHTTPなのか分かる
* gRPCがなぜprotoを書くのか分かる
* CORBAがなぜ難しかったのか分かる

→ **方式の違いを、同じ土俵で比較できるようになる**。

---

このmdは、その土台となる考え方をまとめたもの。
