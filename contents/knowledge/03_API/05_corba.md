---
title: 05_CORBA
date: "2026-01-29"
---

## 読み方
コルバ

## CORBAの正式名称
Common Object Request Broker Architecture

## 一言で言うと
分散した別プログラム同士を、言語やOSの違いを気にせず通信させるための仕組み

## 使用タイミング
Javaで使われることが多かった（過去形）
→Java標準に CORBA が同梱されていたため（org.omg.CORBA パッケージ）</br>
※ Java 9以降は標準から削除 → 完全にレガシー扱い</br>
REST / gRPC の「ご先祖様」

## 結論

CORBA（Common Object Request Broker Architecture）は、**分散したプログラムを、あたかも同じプログラムのように扱うためのAPI方式**。
当時としては非常に先進的だったが、現代のシステムには重すぎる設計だった。

---

## CORBAが生まれた背景

### 当時の課題

* システムが巨大化・分散化してきた
* 言語やOSがバラバラ（C++, Java, COBOLなど）
* それらを統一的に連携させたい

👉 **異種環境でも同じように呼び出せる仕組み**が求められた。

---

## CORBAの基本思想

> ネットワーク越しの処理を、ローカルのメソッド呼び出しのように使いたい

* 通信を意識させない
* オブジェクト指向をそのまま分散環境に持ち込む

👉 **「通信を隠す」設計思想**。

---

## CORBAにおけるAPIの決め方

（02_APIの決め事.md の観点）

### 1. 何ができるか（操作）

* オブジェクトのメソッドとして定義

### 2. どう呼ぶか（呼び方）

* メソッド呼び出し

```java
hello.sayHello();
```

### 3. 何を渡すか（入力）

* IDLで定義した型付きデータ

### 4. 何が返るか（出力）

* IDLで定義した戻り値

### 5. 失敗したらどうなるか（エラー）

* 例外として返される

---

## IDLとは何か

IDL（Interface Definition Language）は、
**CORBAにおけるAPIの契約書**。

* 言語非依存
* 入出力・操作を厳密に定義

```idl
interface Hello {
  string sayHello();
};
```

👉 このIDLから各言語のコードが生成される。

---

## CORBAの構成要素（ざっくり）

* ORB：通信を仲介する仕組み
* Stub：クライアント側の代理
* Skeleton：サーバー側の受け口

👉 通信の詳細をすべてORBが隠す。

---

## CORBAの良かった点

* 型安全
* 言語・OS非依存
* 大規模システム向け

👉 当時の基幹系では非常に強力だった。

---

## CORBAの問題点

### 1. 通信を隠しすぎた

* ネットワークの遅延や失敗が見えない
* デバッグが難しい

### 2. 学習・運用コストが高い

* 設定が複雑
* 理解が難しい

### 3. 変更に弱い

* IDL変更の影響が大きい

👉 **現代の開発スタイルに合わなくなった**。

---

## CORBAはなぜ廃れたのか

* Web技術（HTTP, REST）の普及
* 軽量で分かりやすいAPIが好まれた
* 運用・保守の負担が大きかった

👉 新規開発では使われなくなった。

---

## 現代との位置づけ

* 新規採用：ほぼ無し
* レガシー保守：あり得る

👉 **「知っていると困らない」技術**。

## IDLの深掘り

IDL（Interface Definition Language）は、
* CORBAという仕組みが
* 「APIをこういう文法で書いてね」と決めた
* API定義専用の言語

🤛 我々が設計して、自由に書く“契約書”

修正も拡張も可能だが、変更コストが非常に高い。